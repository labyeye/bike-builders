<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>Sell Your Bike | Bike Builders</title>
    <link rel="stylesheet" href="sell.css" />
    <link rel="stylesheet" href="style.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="sell-hero-section sell-hero">
      <nav class="navbar">
        <a href="index.html" class="logo-link"
          ><div class="logo">
            <img
              src="../assets/logo2.svg"
              class="logo-img"
              alt="Bike Builders Logo"
              itemprop="logo"
            /></div
        ></a>
        <ul class="nav-links">
          <li><a href="index.html" data-translate="Home">Home</a></li>
          <li>
            <a href="inventory.html" data-translate="Buy Bike">Buy Bike</a>
          </li>
          <li>
            <a href="sell.html" class="active" data-translate="Sell Your Bike"
              >Sell Your Bike</a
            >
          </li>
          <li>
            <a
              href="about.html"
              aria-label="About Bike Builders"
              data-translate="About Us"
              >About Us</a
            >
          </li>
          <li>
            <a
              href="book.html"
              aria-label="Book Bike"
              data-translate="Book Bike"
              >Book Bike</a
            >
          </li>
          <li><a href="./updates.html" data-translate="Updates">Updates</a></li>
          <li><a href="contact.html" data-translate="Contact">Contact</a></li>
        </ul>
        <div class="login-btn">
          <a href="/getquote.html">
            <button data-translate="Get the Quote">Get the Quote</button>
          </a>
        </div>
        <div class="theme-toggle">
          <input
            type="checkbox"
            id="darkModeToggle"
            aria-label="Toggle dark mode"
          />
          <label for="darkModeToggle" class="toggle-label">
            <i class="fas fa-sun"></i>
            <i class="fas fa-moon"></i>
            <span class="toggle-ball"></span>
          </label>
        </div>
      </nav>
    </div>
    <section class="sell-section">
      <div class="sell-content">
        <h2 data-translate="Sell Your Bike in 3 Easy Steps">
          Sell Your Bike in 3 Easy Steps
        </h2>
        <p
          data-translate="We make selling your bike simple, fast, and transparent. Get an instant quote and complete the process in just a few clicks."
        >
          We make selling your bike simple, fast, and transparent. Get an
          instant quote and complete the process in just a few clicks.
        </p>

        <div class="sell-steps">
          <div class="sell-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h4 data-translate="Enter Your Bike Details">
                Enter Your Bike Details
              </h4>
              <p
                data-translate="Fill out the form with your bike's specifications and condition."
              >
                Fill out the form with your bike's specifications and condition.
              </p>
            </div>
          </div>
          <div class="sell-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h4 data-translate="Get Instant Valuation">
                Get Instant Valuation
              </h4>
              <p
                data-translate="Receive a fair market price based on current demand and condition."
              >
                Receive a fair market price based on current demand and
                condition.
              </p>
            </div>
          </div>
          <div class="sell-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h4 data-translate="Schedule Pickup & Get Paid">
                Schedule Pickup & Get Paid
              </h4>
              <p
                data-translate="We handle all the paperwork and payment on the spot."
              >
                We handle all the paperwork and payment on the spot.
              </p>
            </div>
          </div>
        </div>

        <div class="sell-cta">
          <button class="cta-button" data-translate="Get Started Now">
            Get Started Now
          </button>
        </div>
      </div>

      <div class="sell-form-container">
        <form id="sell-bike-form" class="sell-form">
          <h3 data-translate="Bike Details">Bike Details</h3>

          <div
            style="
              display: flex;
              gap: 40px;
              justify-content: space-between;
              flex-direction: row;
            "
          >
            <div class="form-group">
              <label for="bike-brand" data-translate="Brand*">Brand*</label>
              <select id="bike-brand" name="brand" required>
                <option value="">Brand</option>
                <option value="KTM">KTM</option>
                <option value="Suzuki">Suzuki</option>
                <option value="Royal Enfield">Royal Enfield</option>
                <option value="Kawasaki">Kawasaki</option>
                <option value="Ducati">Ducati</option>
                <option value="Bajaj">Bajaj</option>
                <option value="Harley-Davidson">Harley-Davidson</option>
                <option value="Yamaha">Yamaha</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label for="bike-model" data-translate="Model*">Model*</label>
              <input
                type="text"
                id="bike-model"
                name="model"
                placeholder="e.g. Duke 390"
                required
              />
            </div>
            <div class="form-group">
              <label for="bike-year" data-translate="Year*">Year*</label>
              <select id="bike-year" name="year" required>
                <option value="">Year</option>
                <option value="2024">2024</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
                <option value="2019">2019</option>
                <option value="2018">2018</option>
                <option value="2017">2017</option>
                <option value="2016">2016</option>
                <option value="2015">2015</option>
                <option value="2014">2014</option>
              </select>
            </div>
            <div class="form-group">
              <label for="bike-price" data-translate="Price (₹)*"
                >Price (₹)*</label
              >
              <input
                type="number"
                id="bike-price"
                name="price"
                placeholder="e.g. 150000"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="bike-images" data-translate="Upload Images (Max 5)*"
              >Upload Images (Max 5)*</label
            >
            <div class="image-upload-container">
              <label for="bike-images" class="image-upload-label">
                <i class="fas fa-cloud-upload-alt"></i>
                <span data-translate="Click to upload images"
                  >Click to upload images</span
                >
                <input
                  type="file"
                  id="bike-images"
                  name="images"
                  accept="image/*"
                  multiple
                  style="display: none"
                />
              </label>
              <div class="image-preview" id="image-preview"></div>
            </div>
          </div>

          <div class="form-group">
            <h3 data-translate="Your Contact Information">
              Your Contact Information
            </h3>
          </div>

          <div class="form-group">
            <label for="seller-name" data-translate="Full Name*"
              >Full Name*</label
            >
            <input
              type="text"
              id="seller-name"
              name="name"
              placeholder="Your name"
              required
            />
          </div>

          <div class="form-group">
            <label for="seller-email" data-translate="Email*">Email*</label>
            <input
              type="email"
              id="seller-email"
              name="email"
              placeholder="Your email"
              required
            />
          </div>

          <div class="form-group">
            <label for="seller-phone" data-translate="Phone Number*"
              >Phone Number*</label
            >
            <input
              type="tel"
              id="seller-phone"
              name="phone"
              placeholder="Your phone number"
              required
            />
          </div>

          <div class="form-group checkbox-group">
            <input
              type="checkbox"
              id="agree-terms"
              name="agree-terms"
              required
            />
            <label
              for="agree-terms"
              data-translate="I agree to the terms and conditions and privacy policy*"
              >I agree to the terms and conditions and privacy policy*</label
            >
          </div>

          <button type="submit" class="submit-btn">
            <span data-translate="Get Instant Valuation"
              >Get Instant Valuation</span
            >
          </button>
        </form>
      </div>
    </section>
    <!-- Review Section -->
    <section class="testimonials-section">
      <h2>What Our Riders Say</h2>
      <div class="testimonials-container" id="dynamic-testimonials">
        <div class="loading">Loading reviews...</div>
      </div>
    </section>
    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Leave a Review</h3>
        <form id="reviewForm">
          <input type="text" id="reviewName" placeholder="Your Name" required />
          <textarea id="reviewMessage" placeholder="Your Review" required></textarea>
          <div class="star-rating">
            <span class="star" data-value="1"><i class="fa fa-star"></i></span>
            <span class="star" data-value="2"><i class="fa fa-star"></i></span>
            <span class="star" data-value="3"><i class="fa fa-star"></i></span>
            <span class="star" data-value="4"><i class="fa fa-star"></i></span>
            <span class="star" data-value="5"><i class="fa fa-star"></i></span>
          </div>
          <input type="hidden" id="reviewRating" value="0" required />
          <button type="submit" class="submit-btn">Submit</button>
        </form>
      </div>
    </div>
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <!-- 5-Star Rating Display -->
          <div class="footer-stars" style="margin: 10px 0;">
            <span class="star" style="color: gold; font-size: 1.5em;"><i class="fa fa-star"></i></span>
            <span class="star" style="color: gold; font-size: 1.5em;"><i class="fa fa-star"></i></span>
            <span class="star" style="color: gold; font-size: 1.5em;"><i class="fa fa-star"></i></span>
            <span class="star" style="color: gold; font-size: 1.5em;"><i class="fa fa-star"></i></span>
            <span class="star" style="color: gold; font-size: 1.5em;"><i class="fa fa-star"></i></span>
          </div>
          <div class="logo">
            <img
              src="../assets/logo2.svg"
              style="width: 50px"
              alt="Bike Builders Logo"
            />
          </div>
          <p data-translate="Bringing the future of bike riding to you today.">
            Bringing the future of bike riding to you today.
          </p>
          <div class="social-icons">
            <a href="https://www.facebook.com/share/1Ao18FYX8e/"
              ><i class="fa-brands fa-facebook-f" style="color: #0400ff"></i
            ></a>
            <a
              href="https://www.instagram.com/bikebuilders41?igsh=ZDk5M3NxdmI1Ymhp"
              aria-label="Visit our Instagram profile"
              ><img
                src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
                style="width: 20px"
            /></a>
            <a
              href="https://wa.me/918210283582"
              aria-label="Chat with us on WhatsApp"
              ><i class="fa-brands fa-whatsapp" style="color: #00a841"></i
            ></a>
            <a
              href="https://youtube.com/@bikebuilders-vo2nm?feature=shared"
              aria-label="Watch on Youtube"
              ><i class="fa-brands fa-youtube" style="color: #fa0000"></i
            ></a>
          </div>
        </div>
        <div class="footer-section">
          <h3 data-translate="Quick Links">Quick Links</h3>
          <ul>
            <li><a href="index.html" data-translate="Home">Home</a></li>
            <li>
              <a href="inventory.html" data-translate="Buy Bike">Buy Bike</a>
            </li>
            <li>
              <a href="sell.html" data-translate="Sell Your Bike"
                >Sell Your Bike</a
              >
            </li>
            <li>
              <a
                href="about.html"
                aria-label="About Bike Builders"
                data-translate="About Us"
                >About Us</a
              >
            </li>
            <li>
              <a
                href="book.html"
                aria-label="Book Bike"
                data-translate="Book Bike"
                >Book Bike</a
              >
            </li>
            <li>
              <a href="./updates.html" data-translate="Updates">Updates</a>
            </li>
            <li><a href="contact.html" data-translate="Contact">Contact</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3 data-translate="Contact Us">Contact Us</h3>
          <p
            data-translate="Rambag Chowk, Rambag Road Kabristaan k bagal me, Gaushala Chowk Mandir , Muzaffarpur, Bihar 842002"
          >
            <i class="fas fa-map-marker-alt"></i> Rambag Chowk, Rambag Road
            Kabristaan k bagal me, Gaushala Chowk Mandir , Muzaffarpur, Bihar
            842002
          </p>
          <span itemprop="telephone">+91 8210283582 / 9835844897</span>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2023 Bike Builders. All rights reserved.</p>
        <a href="www.pixelatenest.com" style="color: #a9a9a9"
          >Designed By Pixelate Nest</a
        >
      </div>
    </footer>

    <script>
      // Dynamic testimonials fetch
      document.addEventListener("DOMContentLoaded", function () {
        function getInitials(name) {
          if (!name) return "U";
          return name
            .split(" ")
            .map((n) => n[0].toUpperCase())
            .join("")
            .slice(0, 2);
        }
        function randomAvatar(name) {
          // Use dicebear for demo, fallback to initials
          const seed = name ? name.replace(/\s/g, "") : "user";
          return `https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(seed)}`;
        }
        function renderTestimonials(reviews) {
          const container = document.getElementById("dynamic-testimonials");
          if (!reviews || reviews.length === 0) {
            container.innerHTML = '<div class="no-reviews">No reviews yet.</div>';
            return;
          }
          container.innerHTML = reviews
            .map((r) => `
              <div class="testimonial" itemscope itemtype="https://schema.org/Review">
                <div class="quote-icon">
                  <i class="fas fa-quote-right" aria-hidden="true"></i>
                </div>
                <div class="testimonial-header">
                  <img src="${randomAvatar(r.name)}" alt="${r.name}" class="user-avatar" width="60" height="60" loading="lazy" />
                  <div class="user-info">
                    <h4 class="user-name" itemprop="author">${r.name}</h4>
                    <div class="rating" itemprop="reviewRating" itemscope itemtype="https://schema.org/Rating">
                      <meta itemprop="ratingValue" content="${r.rating}" />
                      ${'<i class="fas fa-star"></i>'.repeat(r.rating)}${'<i class="far fa-star"></i>'.repeat(5 - r.rating)}
                    </div>
                  </div>
                </div>
                <div class="quote" itemprop="reviewBody">${r.message}</div>
                <div class="testimonial-footer">
                  <span class="testimonial-date">${new Date(r.date).toLocaleDateString()}</span>
                </div>
                <meta itemprop="itemReviewed" content="Bike Builders" />
              </div>
            `)
            .join("");
        }
        function fetchTestimonials() {
          fetch("https://bike-builders-1.onrender.com/api/reviews")
            .then((res) => res.json())
            .then((data) => {
              if (data.success && Array.isArray(data.reviews)) {
                renderTestimonials(data.reviews);
              } else {
                renderTestimonials([]);
              }
            })
            .catch(() => {
              renderTestimonials([]);
            });
        }
        fetchTestimonials();

        // Review Modal logic
        const reviewModal = document.getElementById("reviewModal");
        const closeReviewModalBtn = reviewModal.querySelector(".close");
        closeReviewModalBtn.addEventListener("click", () => {
          reviewModal.style.display = "none";
        });
        window.addEventListener("click", function (event) {
          if (event.target == reviewModal) {
            reviewModal.style.display = "none";
          }
        });
        // Star rating logic
        const stars = reviewModal.querySelectorAll(".star");
        const ratingInput = document.getElementById("reviewRating");
        stars.forEach((star) => {
          star.addEventListener("click", function () {
            const val = this.getAttribute("data-value");
            ratingInput.value = val;
            stars.forEach((s, i) => {
              s.classList.toggle("selected", i < val);
            });
          });
        });
        // Submit review
        const reviewForm = document.getElementById("reviewForm");
        reviewForm.addEventListener("submit", function (e) {
          e.preventDefault();
          const name = document.getElementById("reviewName").value.trim();
          const message = document.getElementById("reviewMessage").value.trim();
          const rating = Number(document.getElementById("reviewRating").value);
          if (!name || !message || !rating) {
            alert("Please fill all fields and select a rating.");
            return;
          }
          fetch("https://bike-builders-1.onrender.com/api/reviews", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, message, rating })
          })
            .then((res) => res.json())
            .then((data) => {
              if (data.success) {
                reviewModal.style.display = "none";
                reviewForm.reset();
                ratingInput.value = 0;
                stars.forEach((s) => s.classList.remove("selected"));
                fetchTestimonials();
              } else {
                alert("Failed to submit review.");
              }
            })
            .catch(() => alert("Failed to submit review."));
        });
        // Open modal button (add anywhere you want, e.g. after testimonials)
        const openBtn = document.createElement("button");
        openBtn.textContent = "Leave a Review";
        openBtn.className = "review-btn";
        openBtn.onclick = () => { reviewModal.style.display = "block"; };
        document.querySelector(".testimonials-section").appendChild(openBtn);
      });
      document.addEventListener("DOMContentLoaded", function () {
        const translations = {
          en: {
            Home: "Home",
            "Buy Bike": "Buy Bike",
            "Sell Your Bike": "Sell Your Bike",
            "About Us": "About Us",
            Updates: "Updates",
            Contact: "Contact",
            "Get the Quote": "Get the Quote",
            "Bike Details": "Bike Details",
            "Brand*": "Brand*",
            "Model*": "Model*",
            "Year*": "Year*",
            "Price (₹)*": "Price (₹)*",
            "Upload Images (Max 5)*": "Upload Images (Max 5)*",
            "Click to upload images": "Click to upload images",
            "Your Contact Information": "Your Contact Information",
            "Full Name*": "Full Name*",
            "Email*": "Email*",
            "Phone Number*": "Phone Number*",
            "I agree to the terms and conditions and privacy policy*":
              "I agree to the terms and conditions and privacy policy*",
            "Get Instant Valuation": "Get Instant Valuation",
            "What Our Sellers Say": "What Our Sellers Say",
            "Sell Your Bike in 3 Easy Steps": "Sell Your Bike in 3 Easy Steps",
            "We make selling your bike simple, fast, and transparent. Get an instant quote and complete the process in just a few clicks.":
              "We make selling your bike simple, fast, and transparent. Get an instant quote and complete the process in just a few clicks.",
            "Enter Your Bike Details": "Enter Your Bike Details",
            "Fill out the form with your bike's specifications and condition.":
              "Fill out the form with your bike's specifications and condition.",
            "Get Instant Valuation": "Get Instant Valuation",
            "Receive a fair market price based on current demand and condition.":
              "Receive a fair market price based on current demand and condition.",
            "Schedule Pickup & Get Paid": "Schedule Pickup & Get Paid",
            "We handle all the paperwork and payment on the spot.":
              "We handle all the paperwork and payment on the spot.",
          },
          hi: {
            Home: "होम",
            "Buy Bike": "खरीदें बाइक",
            "Sell Your Bike": "अपनी बाइक बेचें",
            "About Us": "हमारे बारे में",
            Updates: "अपडेट्स",
            Contact: "संपर्क करें",
            "Get the Quote": "कीमत पता करें",
            "Bike Details": "बाइक का विवरण",
            "Brand*": "ब्रांड*",
            "Model*": "मॉडल*",
            "Year*": "साल*",
            "Price (₹)*": "कीमत (₹)*",
            "Upload Images (Max 5)*": "तस्वीरें अपलोड करें (अधिकतम 5)*",
            "Click to upload images": "तस्वीरें अपलोड करने के लिए क्लिक करें",
            "Your Contact Information": "आपकी संपर्क जानकारी",
            "Full Name*": "पूरा नाम*",
            "Email*": "ईमेल*",
            "Phone Number*": "फोन नंबर*",
            "I agree to the terms and conditions and privacy policy*":
              "मैं नियम और शर्तें और गोपनीयता नीति से सहमत हूं*",
            "Get Instant Valuation": "तुरंत मूल्यांकन प्राप्त करें",
            "What Our Sellers Say": "हमारे विक्रेता क्या कहते हैं",
            "Sell Your Bike in 3 Easy Steps": "अपनी बाइक बेचने में 3 सरल चरण",
            "We make selling your bike simple, fast, and transparent. Get an instant quote and complete the process in just a few clicks.":
              "हम अपनी बाइक बेचने को सरल, तेज़ और पारदर्शी बनाते हैं। तुरंत अनुमान प्राप्त करें और केवल कुछ क्लिक में पूरा प्रक्रिया पूरा करें।",
            "Enter Your Bike Details": "अपनी बाइक की विवरण दर्ज करें",
            "Fill out the form with your bike's specifications and condition.":
              "अपनी बाइक की विवरण दर्ज करें और स्थिति को भी दर्ज करें।",
            "Get Instant Valuation": "तुरंत मूल्यांकन प्राप्त करें",
            "Receive a fair market price based on current demand and condition.":
              "वर्तमान मांग और स्थिति के आधार पर एक विश्वसनीय मूल्यांकन प्राप्त करें।",
            "Schedule Pickup & Get Paid": "पिकअप और भुगतान का अनुरोध करें",
            "We handle all the paperwork and payment on the spot.":
              "हम सभी कागजात और भुगतान को स्थानीय स्तर पर संभालते हैं।",
          },
        };

        const preferredLanguage =
          localStorage.getItem("preferredLanguage") || "en";

        if (preferredLanguage !== "en") {
          document.body.classList.add("hindi-font");
          const elements = document.querySelectorAll("[data-translate]");
          elements.forEach((element) => {
            const key = element.getAttribute("data-translate");
            if (
              translations[preferredLanguage] &&
              translations[preferredLanguage][key]
            ) {
              element.textContent = translations[preferredLanguage][key];
            }
          });

          const formLabels = {
            "bike-brand": "Brand*",
            "bike-model": "Model*",
            "bike-year": "Year*",
            "bike-price": "Price (₹)*",
            "bike-images": "Upload Images (Max 5)*",
            "seller-name": "Full Name*",
            "seller-email": "Email*",
            "seller-phone": "Phone Number*",
          };

          Object.entries(formLabels).forEach(([id, enText]) => {
            const element = document.getElementById(id);
            if (element && translations[preferredLanguage][enText]) {
              const label = element
                .closest(".form-group")
                ?.querySelector("label");
              if (label) {
                label.textContent = translations[preferredLanguage][enText];
              }
              if (element.placeholder) {
                element.placeholder = translations[preferredLanguage][enText];
              }
            }
          });

          const uiElements = {
            "image-upload-label span": "Click to upload images",
            "agree-terms-label":
              "I agree to the terms and conditions and privacy policy*",
            "submit-btn": "Get Instant Valuation",
            "testimonials-title": "What Our Sellers Say",
          };

          Object.entries(uiElements).forEach(([selector, enText]) => {
            const element = document.querySelector(selector);
            if (element && translations[preferredLanguage][enText]) {
              element.textContent = translations[preferredLanguage][enText];
            }
          });
        }
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const darkModeToggle = document.getElementById("darkModeToggle");
        const mobileDarkModeToggle = document.getElementById(
          "mobileDarkModeToggle"
        );

        // Check for saved user preference or system preference
        function checkDarkModePreference() {
          const savedTheme = localStorage.getItem("theme");
          const systemPrefersDark =
            window.matchMedia &&
            window.matchMedia("(prefers-color-scheme: dark)").matches;

          if (savedTheme === "dark" || (!savedTheme && systemPrefersDark)) {
            document.body.classList.add("dark-mode");
            if (darkModeToggle) darkModeToggle.checked = true;
            if (mobileDarkModeToggle) mobileDarkModeToggle.checked = true;
          }
        }

        // Initialize dark mode
        checkDarkModePreference();

        // Desktop toggle
        if (darkModeToggle) {
          darkModeToggle.addEventListener("change", function () {
            if (this.checked) {
              document.body.classList.add("dark-mode");
              localStorage.setItem("theme", "dark");
            } else {
              document.body.classList.remove("dark-mode");
              localStorage.setItem("theme", "light");
            }
            // Sync mobile toggle
            if (mobileDarkModeToggle) {
              mobileDarkModeToggle.checked = this.checked;
            }
          });
        }

        // Mobile toggle
        if (mobileDarkModeToggle) {
          mobileDarkModeToggle.addEventListener("change", function () {
            if (this.checked) {
              document.body.classList.add("dark-mode");
              localStorage.setItem("theme", "dark");
            } else {
              document.body.classList.remove("dark-mode");
              localStorage.setItem("theme", "light");
            }
            // Sync desktop toggle
            if (darkModeToggle) {
              darkModeToggle.checked = this.checked;
            }
          });
        }

        // Watch for system theme changes
        window
          .matchMedia("(prefers-color-scheme: dark)")
          .addEventListener("change", (e) => {
            const newColorScheme = e.matches ? "dark" : "light";
            if (!localStorage.getItem("theme")) {
              // Only if user hasn't set a preference
              if (newColorScheme === "dark") {
                document.body.classList.add("dark-mode");
                if (darkModeToggle) darkModeToggle.checked = true;
                if (mobileDarkModeToggle) mobileDarkModeToggle.checked = true;
              } else {
                document.body.classList.remove("dark-mode");
                if (darkModeToggle) darkModeToggle.checked = false;
                if (mobileDarkModeToggle) mobileDarkModeToggle.checked = false;
              }
            }
          });
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const toggleBtn = document.createElement("button");
        toggleBtn.className = "mobile-menu-toggle";
        toggleBtn.innerHTML = '<i class="fas fa-bars"></i>';

        const navbar = document.querySelector(".navbar");
        navbar.appendChild(toggleBtn);

        const mobileMenu = document.createElement("div");
        mobileMenu.className = "mobile-menu";
        mobileMenu.innerHTML = `
          <button class="close-btn"><i class="fas fa-times"></i></button>
          <ul class="nav-links">
            <li><a href="index.html" class="active">Home</a></li>
            <li><a href="inventory.html">Buy Bike</a></li>
            <li><a href="sell.html">Sell Your Bike</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="./updates.html" data-translate="Updates">Updates</a></li>
            <li><a href="contact.html" data-translate="Contact">Contact</a></li>
          </ul>
          <div class="login-btn">
            <button>Get the Quote</button>
          </div>
          <div class="theme-toggle mobile-theme-toggle">
          <label for="mobileDarkModeToggle" class="toggle-label">
            <i class="fas fa-sun"></i>
            <i class="fas fa-moon"></i>
            <span class="toggle-ball"></span>
          </label>
        </div>
        `;

        document.body.appendChild(mobileMenu);

        toggleBtn.addEventListener("click", function () {
          mobileMenu.classList.add("active");
        });

        mobileMenu
          .querySelector(".close-btn")
          .addEventListener("click", function () {
            mobileMenu.classList.remove("active");
          });

        let currentTestimonial = 0;
        const testimonials = document.querySelectorAll(".testimonial");
        const dots = document.querySelectorAll(".testimonial-dot");

        function showTestimonial(index) {
          testimonials.forEach((testimonial, i) => {
            testimonial.style.display = i === index ? "block" : "none";
          });

          dots.forEach((dot, i) => {
            dot.classList.toggle("active", i === index);
          });

          currentTestimonial = index;
        }

        dots.forEach((dot, i) => {
          dot.addEventListener("click", () => showTestimonial(i));
        });

        setInterval(() => {
          currentTestimonial = (currentTestimonial + 1) % testimonials.length;
          showTestimonial(currentTestimonial);
        }, 5000);
        showTestimonial(0);

        const form = document.getElementById("sell-bike-form");
        const imageUpload = document.getElementById("bike-images");
        const imagePreview = document.getElementById("image-preview");

        let messageContainer = document.getElementById("message-container");
        if (!messageContainer) {
          messageContainer = document.createElement("div");
          messageContainer.id = "message-container";
          messageContainer.style.position = "fixed";
          messageContainer.style.top = "20px";
          messageContainer.style.left = "50%";
          messageContainer.style.transform = "translateX(-50%)";
          messageContainer.style.zIndex = "1000";
          document.body.appendChild(messageContainer);
        }
        imageUpload.addEventListener("change", function (e) {
          imagePreview.innerHTML = "";
          const files = e.target.files;

          if (files.length > 5) {
            showMessage(
              "You can upload maximum 5 images. Only first 5 will be processed.",
              "error"
            );
          }

          for (let i = 0; i < Math.min(files.length, 5); i++) {
            const reader = new FileReader();
            reader.onload = function (event) {
              const img = document.createElement("img");
              img.src = event.target.result;
              img.className = "preview-img";
              imagePreview.appendChild(img);
            };
            reader.readAsDataURL(files[i]);
          }
        });
        function showMessage(message, type) {
          messageContainer.innerHTML = `<div class="${type}-message" style="padding: 15px; margin-bottom: 10px; border-radius: 4px; color: white; background-color: ${
            type === "error" ? "#ff4444" : "#4CAF50"
          }; box-shadow: 0 2px 10px rgba(0,0,0,0.2);">${message}</div>`;
          setTimeout(() => {
            messageContainer.innerHTML = "";
          }, 5000);
        }
        function validateForm() {
          const requiredFields = form.querySelectorAll("[required]");
          let isValid = true;
          let firstInvalidField = null;

          requiredFields.forEach((field) => {
            field.classList.remove("error");

            let fieldValue = "";
            if (field.type === "checkbox") {
              fieldValue = field.checked;
            } else if (field.type === "file") {
              fieldValue = field.files.length > 0;
            } else {
              fieldValue = field.value.trim();
            }

            if (!fieldValue) {
              field.classList.add("error");
              if (!firstInvalidField) {
                firstInvalidField = field;
              }
              isValid = false;
            }
          });

          // Scroll to first invalid field
          if (firstInvalidField) {
            firstInvalidField.scrollIntoView({
              behavior: "smooth",
              block: "center",
            });
            setTimeout(() => firstInvalidField.focus(), 500);
          }

          return isValid;
        }

        // Form submission handler
        form.addEventListener("submit", async function (e) {
          e.preventDefault();

          // Validate form
          if (!validateForm()) {
            showMessage(
              "Please fill all required fields marked with *",
              "error"
            );
            return;
          }

          const submitBtn = form.querySelector('button[type="submit"]');
          const originalBtnText = submitBtn.textContent;

          // Disable button and show loading state
          submitBtn.disabled = true;
          submitBtn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Processing...';

          try {
            // Create FormData object
            const formData = new FormData();

            // Add form fields
            const formFields = form.querySelectorAll("input, select, textarea");
            formFields.forEach((field) => {
              if (field.type === "file") {
                // Handle file inputs
                for (let i = 0; i < field.files.length; i++) {
                  formData.append("images", field.files[i]);
                }
              } else if (field.type === "checkbox") {
                formData.append(field.name, field.checked);
              } else if (field.name && field.value) {
                formData.append(field.name, field.value.trim());
              }
            });

            // Submit to server
            const response = await fetch(
              "https://bike-builders-1.onrender.com/api/sell-request",
              {
                method: "POST",
                body: formData,
              }
            );

            const result = await response.json();

            if (response.ok) {
              showMessage(
                "Thank you for your submission! We will contact you shortly with your valuation.",
                "success"
              );
              form.reset();
              imagePreview.innerHTML = "";
              window.scrollTo({ top: 0, behavior: "smooth" });
            } else {
              console.error("Server error:", result);
              showMessage(
                result.error ||
                  result.message ||
                  "Failed to submit form. Please try again.",
                "error"
              );
            }
          } catch (error) {
            console.error("Error submitting form:", error);
            showMessage(
              "Network error occurred. Please check your connection and try again.",
              "error"
            );
          } finally {
            // Reset button state
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalBtnText;
          }
        });
      });

      // Google Analytics
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-ETL311CBE6");
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get modal elements
        const whatsappModal = document.getElementById("whatsappModal");
        const callModal = document.getElementById("callModal");

        // Get trigger buttons
        const whatsappTrigger = document.getElementById("whatsappTrigger");
        const callTrigger = document.getElementById("callTrigger");

        // Get close buttons
        const closeButtons = document.getElementsByClassName("close");

        // When user clicks WhatsApp button
        whatsappTrigger.addEventListener("click", function (e) {
          e.preventDefault();
          whatsappModal.style.display = "block";
        });

        // When user clicks Call button
        callTrigger.addEventListener("click", function (e) {
          e.preventDefault();
          callModal.style.display = "block";
        });

        // When user clicks on close button
        Array.from(closeButtons).forEach((button) => {
          button.addEventListener("click", function () {
            whatsappModal.style.display = "none";
            callModal.style.display = "none";
          });
        });

        // When user clicks outside the modal
        window.addEventListener("click", function (event) {
          if (event.target == whatsappModal) {
            whatsappModal.style.display = "none";
          }
          if (event.target == callModal) {
            callModal.style.display = "none";
          }
        });

        // Handle number selection for WhatsApp
        const whatsappOptions =
          whatsappModal.querySelectorAll(".number-option");
        whatsappOptions.forEach((option) => {
          option.addEventListener("click", function () {
            const number = this.getAttribute("data-number");
            window.open(`https://wa.me/${number}`, "_blank");
            whatsappModal.style.display = "none";
          });
        });

        // Handle number selection for Call
        const callOptions = callModal.querySelectorAll(".number-option");
        callOptions.forEach((option) => {
          option.addEventListener("click", function () {
            const number = this.getAttribute("data-number");
            window.location.href = `tel:${number}`;
            callModal.style.display = "none";
          });
        });
      });
    </script>
    <div class="floating-buttons">
      <a
        href="#"
        class="floating-btn whatsapp-btn"
        data-tooltip="Chat on WhatsApp"
        aria-label="Chat on WhatsApp"
        id="whatsappTrigger"
      >
        <i class="fa-brands fa-whatsapp fa-bounce"></i>
      </a>

      <!-- YouTube Button (unchanged) -->
      <a
        href="https://youtube.com/@bikebuilders-vo2nm?feature=shared"
        class="floating-btn youtube-btn"
        data-tooltip="Watch on YouTube"
        aria-label="Watch on YouTube"
      >
        <i class="fa-brands fa-youtube fa-beat-fade" style="color: #ff0000"></i>
      </a>

      <!-- Call Button -->
      <a
        href="#"
        class="floating-btn call-btn"
        data-tooltip="Call Us"
        aria-label="Call Us"
        id="callTrigger"
      >
        <i class="fa-solid fa-phone-volume fa-shake"></i>
      </a>
      <a
        href="https://www.google.com/maps/place/Bike+builders/@26.1159711,85.3999381,17z/data=!3m1!4b1!4m6!3m5!1s0x39ed11b964ff11bf:0x188a2d7e1473af0b!8m2!3d26.1159664!4d85.404809!16s%2Fg%2F11wftsdzy6?entry=ttu&g_ep=EgoyMDI1MDUyMS4wIKXMDSoASAFQAw%3D%3D"
        class="floating-btn call-btn"
        data-tooltip="Visit Us"
        aria-label="Visit Us"
      >
        <i class="fa-solid fa-motorcycle fa-shake"></i>
      </a>
    </div>

    <div id="whatsappModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Choose WhatsApp Number</h3>
        <button class="number-option" data-number="918210283582">
          +91 82102 83582
        </button>
        <button class="number-option" data-number="919876543210">
          +91 98358 44897
        </button>
      </div>
    </div>

    <div id="callModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Choose Number to Call</h3>
        <button class="number-option" data-number="918210283582">
          +91 82102 83582
        </button>
        <button class="number-option" data-number="919876543210">
          +91 98358 44897
        </button>
      </div>
    </div>
  </body>
</html>
