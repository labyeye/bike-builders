<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>
      Book Your Bike | Bike Builders — Test rides & bookings in Muzaffarpur
    </title>
    <meta
      name="description"
      content="Book a test ride, reserve or pre-book a certified second-hand bike in Muzaffarpur with Bike Builders — quick booking, secure payments, doorstep test-rides, and verified inventory across Bihar."
    />
    <meta
      name="keywords"
      content="book bike Muzaffarpur, test ride Muzaffarpur, pre-owned bikes Bihar, second hand bike booking, bike reservation Muzaffarpur, Bike Builders booking, bike test ride Bihar, used motorcycle booking, reserve motorcycle Muzaffarpur, certified used bikes, bike booking online, bike deposit Muzaffarpur, two-wheeler booking Bihar, verified used bikes, sell and buy used bikes Muzaffarpur"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Book Your Bike | Bike Builders — Muzaffarpur Test Rides & Bookings"
    />
    <meta
      name="twitter:description"
      content="Reserve a verified pre-owned bike or schedule a test ride in Muzaffarpur. Secure booking, UPI payments, and doorstep service from Bike Builders."
    />
    <meta
      name="twitter:image"
      content="https://www.bikebuilders.in/assets/social-preview.jpg"
    />
    <meta property="og:site_name" content="Bike Builders" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://www.bikebuilders.in/book.html" />
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="Book Your Bike | Bike Builders — Test rides & bookings in Muzaffarpur"
    />
    <meta
      property="og:description"
      content="Reserve a test ride or book a verified pre-owned bike in Muzaffarpur today."
    />
    <meta property="og:url" content="https://www.bikebuilders.in/book.html" />
    <meta
      property="og:image"
      content="https://www.bikebuilders.in/assets/social-preview.jpg"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
    <link rel="preconnect" href="https://code.jquery.com" crossorigin />
    <link rel="preconnect" href="https://bike-builders-backend.vercel.app" />
    <link rel="stylesheet" href="./globals.css" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./book.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- LocalBusiness JSON-LD for structured data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Bike Builders",
        "url": "https://www.bikebuilders.in/book.html",
        "telephone": "+918210283582",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "Rambag Chowk, Rambag Road, Gaushala Chowk",
          "addressLocality": "Muzaffarpur",
          "addressRegion": "Bihar",
          "postalCode": "842002",
          "addressCountry": "IN"
        },
        "description": "Book test rides and reserve certified pre-owned bikes in Muzaffarpur. Fast booking, secure payments and verified second-hand bikes across Bihar.",
        "image": "https://www.bikebuilders.in/assets/social-preview.jpg",
        "priceRange": "₹",
        "areaServed": ["Muzaffarpur", "Bihar"],
        "sameAs": [
          "https://www.facebook.com/",
          "https://www.instagram.com/",
          "https://www.youtube.com/"
        ]
      }
    </script>
  </head>
  <body>
    <div class="book-hero-section book-hero">
      <nav class="navbar">
        <a href="https://www.bikebuilders.in/" class="logo-link"
          ><div class="logo">
            <img
              src="./assets/logo2.svg"
              class="logo-img"
              alt="Bike Builders Logo"
              itemprop="logo"
            /></div
        ></a>
        <ul class="nav-links">
          <li>
            <a href="https://www.bikebuilders.in/" data-translate="Home"
              >Home</a
            >
          </li>
          <li>
            <a
              href="https://www.bikebuilders.in/inventory.html"
              data-translate="Buy Bike"
              >Buy Bike</a
            >
          </li>
          <li>
            <a
              href="https://www.bikebuilders.in/sell.html"
              data-translate="Sell Your Bike"
              >Sell Your Bike</a
            >
          </li>
          <li>
            <a
              href="https://www.bikebuilders.in/about.html"
              aria-label="About Bike Builders"
              data-translate="About Us"
              >About Us</a
            >
          </li>
          <li>
            <a
              href="https://www.bikebuilders.in/book.html"
              aria-label="Book Bike"
              data-translate="Book Bike"
              class="active"
              >Book Bike</a
            >
          </li>
          <li>
            <a
              href="https://www.bikebuilders.in/finance.html"
              aria-label="Bike Finance"
              data-translate="Bike Finance"
              >Bike Finance</a
            >
          </li>
          <li>
            <a
              href="https://www.bikebuilders.in/updates.html"
              data-translate="Updates"
              >Updates</a
            >
          </li>
          <li>
            <a
              href="https://www.bikebuilders.in/contact.html"
              data-translate="Contact"
              >Contact</a
            >
          </li>
        </ul>

        <div class="theme-toggle">
          <input
            type="checkbox"
            id="darkModeToggle"
            aria-label="Toggle dark mode"
          />
          <label for="darkModeToggle" class="toggle-label">
            <i class="fas fa-sun"></i>
            <i class="fas fa-moon"></i>
            <span class="toggle-ball"></span>
          </label>
        </div>
      </nav>
    </div>
    <section class="book-section">
      <div class="book-content">
        <h1 data-translate="Book Your Dream Bike">Book Your Dream Bike</h1>
        <p
          class="lead-keywords"
          data-translate="Book test rides and reserve pre-owned bikes in Muzaffarpur"
        >
          Book test rides, reserve certified pre-owned bikes and secure your
          booking online in Muzaffarpur. Fast booking, UPI payments, doorstep
          test-rides, and verified second-hand bikes across Bihar.
        </p>

        <div class="book-steps">
          <div class="book-step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h4 data-translate="Select Your Bike">Select Your Bike</h4>
              <p
                data-translate="Choose from our available inventory of premium bikes."
              >
                Choose from our available inventory of premium bikes.
              </p>
            </div>
          </div>
          <div class="book-step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h4 data-translate="Make Payment">Make Payment</h4>
              <p data-translate="Pay the booking amount via UPI">
                Pay the booking amount via UPI
              </p>
            </div>
          </div>
          <div class="book-step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h4 data-translate="Complete Booking">Complete Booking</h4>
              <p
                data-translate="Submit your payment details and receive confirmation of your booking."
              >
                Submit your payment details and receive confirmation of your
                booking.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="book-form-container" id="book-form">
        <form id="book-bike-form" class="book-form">
          <h3 data-translate="Bike Booking Form">Bike Booking Form</h3>

          <div class="form-group">
            <label for="book-name" data-translate="Full Name*"
              >Full Name*</label
            >
            <input
              type="text"
              id="book-name"
              name="name"
              placeholder="Your name"
              required
            />
          </div>

          <div class="form-group">
            <label for="book-email" data-translate="Email*">Email*</label>
            <input
              type="email"
              id="book-email"
              name="email"
              placeholder="Your email"
              required
            />
          </div>

          <div class="form-group">
            <label for="book-phone" data-translate="Phone Number*"
              >Phone Number*</label
            >
            <input
              type="tel"
              id="book-phone"
              name="phone"
              placeholder="Your phone number"
              required
            />
          </div>

          <div class="form-group">
            <label for="book-bike" data-translate="Select Bike*"
              >Select Bike*</label
            >
            <select id="book-bike" name="bikeId" required>
              <option value="">Loading bikes...</option>
            </select>
          </div>

          <div class="form-group">
            <label data-translate="Payment Method*">Payment Method*</label>
            <div class="payment-methods">
              <label class="payment-method">
                <input type="radio" name="paymentMethod" value="UPI" checked />
                <div class="payment-option">
                  <img
                    src="https://m.economictimes.com/thumb/msid-74960608,width-1200,height-900,resizemode-4,imgsize-49172/upi-twitter.jpg"
                    alt="UPI"
                  />
                  <span>UPI</span>
                </div>
              </label>
            </div>
          </div>

          <div class="form-group">
            <label data-translate="Payment QR Code">Payment QR Code</label>
            <div class="qr-code-container">
              <img src="./assets/qe.jpeg" alt="Payment QR Code" />
              <p data-translate="Scan this QR code to make payment">
                Scan this QR code to make payment
              </p>
            </div>
          </div>

          <div class="form-group">
            <label for="book-amount" data-translate="Amount Paid (₹)*"
              >Amount Paid (₹)*</label
            >
            <input
              type="number"
              id="book-amount"
              name="amount"
              placeholder="Enter amount paid"
              required
            />
          </div>

          <div class="form-group">
            <label for="book-transaction" data-translate="Transaction ID*"
              >Transaction ID*</label
            >
            <input
              type="text"
              id="book-transaction"
              name="transactionId"
              placeholder="Enter transaction ID"
              required
            />
          </div>

          <div class="form-group checkbox-group">
            <input
              type="checkbox"
              id="agree-terms-book"
              name="agree-terms"
              required
            />
            <label
              for="agree-terms-book"
              data-translate="I agree to the terms and conditions and privacy policy*"
              >I agree to the terms and conditions and privacy policy*</label
            >
          </div>

          <button
            type="submit"
            class="submit-btn"
            data-translate="Complete Booking"
          >
            Complete Booking
          </button>
        </form>
      </div>
    </section>

    <!-- Review Section -->
    <section class="testimonials-section">
      <h2>What Our Riders Say</h2>
      <div class="testimonials-container" id="dynamic-testimonials">
        <div class="loading">Loading reviews...</div>
      </div>
    </section>
    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Leave a Review</h3>
        <form id="reviewForm">
          <input type="text" id="reviewName" placeholder="Your Name" required />
          <textarea
            id="reviewMessage"
            placeholder="Your Review"
            required
          ></textarea>
          <div class="star-rating">
            <span class="star" data-value="1"><i class="fa fa-star"></i></span>
            <span class="star" data-value="2"><i class="fa fa-star"></i></span>
            <span class="star" data-value="3"><i class="fa fa-star"></i></span>
            <span class="star" data-value="4"><i class="fa fa-star"></i></span>
            <span class="star" data-value="5"><i class="fa fa-star"></i></span>
          </div>
          <input type="hidden" id="reviewRating" value="0" required />
          <button type="submit" class="submit-btn">Submit</button>
        </form>
      </div>
    </div>
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <div class="footer-stars" style="margin: 10px 0">
            <span class="star" style="color: gold; font-size: 1.5em"
              ><i class="fa fa-star"></i
            ></span>
            <span class="star" style="color: gold; font-size: 1.5em"
              ><i class="fa fa-star"></i
            ></span>
            <span class="star" style="color: gold; font-size: 1.5em"
              ><i class="fa fa-star"></i
            ></span>
            <span class="star" style="color: gold; font-size: 1.5em"
              ><i class="fa fa-star"></i
            ></span>
            <span class="star" style="color: gold; font-size: 1.5em"
              ><i class="fa fa-star"></i
            ></span>
          </div>
          <div class="logo">
            <img
              src="./assets/logo2.svg"
              style="width: 50px"
              alt="Bike Builders Logo"
            />
          </div>
          <p>Bringing the future of bike riding to you today.</p>
          <div class="social-icons">
            <a href="https://www.facebook.com/share/1Ao18FYX8e/"
              ><i class="fa-brands fa-facebook-f" style="color: #0400ff"></i
            ></a>
            <a
              href="https://www.instagram.com/bikebuilders41?igsh=ZDk5M3NxdmI1Ymhp"
              aria-label="Visit our Instagram profile"
              ><img
                src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
                style="width: 20px"
            /></a>
            <a
              href="https://wa.me/918210283582"
              aria-label="Chat with us on WhatsApp"
              ><i class="fa-brands fa-whatsapp" style="color: #00a841"></i
            ></a>
            <a
              href="https://youtube.com/@bikebuilders-vo2nm?feature=shared"
              aria-label="Watch on Youtube"
              ><i class="fa-brands fa-youtube" style="color: #fa0000"></i
            ></a>
          </div>
        </div>
        <div class="footer-section">
          <h3 data-translate="Quick Links">Quick Links</h3>
          <ul>
            <li>
              <a href="https://www.bikebuilders.in/" data-translate="Home"
                >Home</a
              >
            </li>
            <li>
              <a
                href="https://www.bikebuilders.in/inventory.html"
                data-translate="Buy Bike"
                >Buy Bike</a
              >
            </li>
            <li>
              <a
                href="https://www.bikebuilders.in/sell.html"
                data-translate="Sell Your Bike"
                >Sell Your Bike</a
              >
            </li>
            <li>
              <a
                href="https://www.bikebuilders.in/about.html"
                aria-label="About Bike Builders"
                data-translate="About Us"
                >About Us</a
              >
            </li>
            <li>
              <a
                href="https://www.bikebuilders.in/book.html"
                aria-label="Book Bike"
                data-translate="Book Bike"
                >Book Bike</a
              >
            </li>
            <li>
              <a
                href="https://www.bikebuilders.in/updates.html"
                data-translate="Updates"
                >Updates</a
              >
            </li>
            <li>
              <a
                href="https://www.bikebuilders.in/contact.html"
                data-translate="Contact"
                >Contact</a
              >
            </li>
          </ul>
        </div>
        <div class="footer-section">
          <h3 data-translate="Resources">Resources</h3>
          <ul>
            <li>
              <a
                href="https://www.bikebuilders.in/finance.html"
                data-translate="Bike Finance"
                >Bike Finance</a
              >
            </li>
            <li>
              <a
                href="https://www.bikebuilders.in/locations-bihar.html"
                data-translate="Locations"
                >Locations</a
              >
            </li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Contact Us</h3>
          <p>
            <i class="fas fa-map-marker-alt"></i> Rambag Chowk, Rambag Road
            Kabristaan k bagal me, Gaushala Chowk Mandir , Muzaffarpur, Bihar
            842002
          </p>
          <span itemprop="telephone">+91 8210283582 / 9835844897</span>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2023 Bike Builders. All rights reserved.</p>
        <a href="www.https://www.pixelatenest.com/" style="color: #a9a9a9"
          >Designed By Pixelate Nest</a
        >
      </div>
    </footer>
    <script src="./testimonials.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const reviewModal = document.getElementById("reviewModal");
        const closeReviewModalBtn = reviewModal.querySelector(".close");
        closeReviewModalBtn.addEventListener("click", () => {
          reviewModal.style.display = "none";
        });
        window.addEventListener("click", function (event) {
          if (event.target == reviewModal) {
            reviewModal.style.display = "none";
          }
        });
        const stars = reviewModal.querySelectorAll(".star");
        const ratingInput = document.getElementById("reviewRating");
        stars.forEach((star) => {
          star.addEventListener("click", function () {
            const val = this.getAttribute("data-value");
            ratingInput.value = val;
            stars.forEach((s, i) => {
              s.classList.toggle("selected", i < val);
            });
          });
        });
        // Submit review
        const reviewForm = document.getElementById("reviewForm");
        reviewForm.addEventListener("submit", function (e) {
          e.preventDefault();
          const name = document.getElementById("reviewName").value.trim();
          const message = document.getElementById("reviewMessage").value.trim();
          const rating = Number(document.getElementById("reviewRating").value);
          if (!name || !message || !rating) {
            alert("Please fill all fields and select a rating.");
            return;
          }
          fetch("https://bike-builders-backend.vercel.app/api/reviews", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, message, rating }),
          })
            .then((res) => res.json())
            .then((data) => {
              if (data.success) {
                reviewModal.style.display = "none";
                reviewForm.reset();
                ratingInput.value = 0;
                stars.forEach((s) => s.classList.remove("selected"));
                fetchTestimonials();
              } else {
                alert("Failed to submit review.");
              }
            })
            .catch(() => alert("Failed to submit review."));
        });
        // Open modal button (add anywhere you want, e.g. after testimonials)
        const openBtn = document.createElement("button");
        openBtn.className = "review-btn";
        openBtn.onclick = () => {
          reviewModal.style.display = "block";
        };
        document.querySelector(".testimonials-section").appendChild(openBtn);
        // Make footer stars open the review modal and pre-select rating
        const footerStars = document.querySelectorAll(".footer-stars .star");
        footerStars.forEach((fs, idx) => {
          fs.addEventListener("click", () => {
            reviewModal.style.display = "block";
            const ratingInput = document.getElementById("reviewRating");
            const modalStars = reviewModal.querySelectorAll(".star");
            const val = idx + 1;
            if (ratingInput) ratingInput.value = val;
            modalStars.forEach((s, i) =>
              s.classList.toggle("selected", i < val)
            );
          });
        });
      });
      document.addEventListener("DOMContentLoaded", function () {
        const urlParams = new URLSearchParams(window.location.search);
        const bikeIdFromUrl = urlParams.get("bikeId");

        fetch("https://bike-builders-backend.vercel.app/api/available-bikes")
          .then((response) => response.json())
          .then((bikes) => {
            const select = document.getElementById("book-bike");
            select.innerHTML =
              '<option value="">Select Bike</option>' +
              bikes
                .map(
                  (bike) =>
                    `<option value="${bike._id}" ${
                      bikeIdFromUrl === bike._id ? "selected" : ""
                    }>${bike.brand} ${bike.model} (${
                      bike.modelYear
                    }) - ₹${bike.price.toLocaleString()}</option>`
                )
                .join("");
            if (bikeIdFromUrl && bikes.some((b) => b._id === bikeIdFromUrl)) {
              document.getElementById("book-form").scrollIntoView({
                behavior: "smooth",
              });
            }
          })
          .catch((error) => {
            console.error("Error loading bikes:", error);
            document.getElementById("book-bike").innerHTML =
              '<option value="">Error loading bikes</option>';
          });
        const bookForm = document.getElementById("book-bike-form");
        bookForm.addEventListener("submit", async function (e) {
          e.preventDefault();

          const submitBtn = this.querySelector('button[type="submit"]');
          const originalBtnText = submitBtn.textContent;
          submitBtn.disabled = true;
          submitBtn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Processing...';

          try {
            const formData = new FormData(this);
            const jsonData = {};
            formData.forEach((value, key) => {
              jsonData[key] = value;
            });

            const response = await fetch(
              "https://bike-builders-backend.vercel.app/api/book-bike",
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify(jsonData),
              }
            );

            const result = await response.json();

            if (response.ok) {
              alert(
                "Booking confirmed! We will contact you shortly to complete the process."
              );
              this.reset();
            } else {
              alert(
                result.error || "Failed to process booking. Please try again."
              );
            }
          } catch (err) {
            console.error("Error submitting form:", err);
            alert("An error occurred. Please try again.");
          } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = originalBtnText;
          }
        });
      });

      document.addEventListener("DOMContentLoaded", function () {
        const translations = {
          en: {
            Home: "Home",
            "Buy Bike": "Buy Bike",
            "Sell Your Bike": "Sell Your Bike",
            "About Us": "About Us",
            Updates: "Updates",
            "Book Bike": "Book Bike",
            Contact: "Contact",
            "Get the Quote": "Get the Quote",
            "Book Your Dream Bike": "Book Your Dream Bike",
            "Secure your bike with a booking payment. Select from our available inventory and complete your booking with a simple payment process.":
              "Secure your bike with a booking payment. Select from our available inventory and complete your booking with a simple payment process.",
            "Select Your Bike": "Select Your Bike",
            "Choose from our available inventory of premium bikes.":
              "Choose from our available inventory of premium bikes.",
            "Make Payment": "Make Payment",
            "Pay the booking amount via UPI": "Pay the booking amount via UPI",
            "Complete Booking": "Complete Booking",
            "Submit your payment details and receive confirmation of your booking.":
              "Submit your payment details and receive confirmation of your booking.",
            "Bike Booking Form": "Bike Booking Form",
            "Full Name*": "Full Name*",
            "Email*": "Email*",
            "Phone Number*": "Phone Number*",
            "Select Bike*": "Select Bike*",
            "Payment Method*": "Payment Method*",
            "Payment QR Code": "Payment QR Code",
            "Scan this QR code to make payment":
              "Scan this QR code to make payment",
            "Amount Paid (₹)*": "Amount Paid (₹)*",
            "Transaction ID*": "Transaction ID*",
            "Recent Bike Bookings": "Recent Bike Bookings",
          },
          hi: {
            Home: "होम",
            "Buy Bike": "बाइक खरीदें",
            "Sell Your Bike": "अपनी बाइक बेचें",
            "About Us": "हमारे बारे में",
            Updates: "अपडेट्स",
            Contact: "संपर्क करें",
            "Book Bike": "बाइक बुक करें",
            "Get the Quote": "कीमत पता करें",
            "Book Your Dream Bike": "अपनी ड्रीम बाइक बुक करें",
            "Secure your bike with a booking payment. Select from our available inventory and complete your booking with a simple payment process.":
              "बुकिंग पेमेंट के साथ अपनी बाइक सुरक्षित करें। हमारे उपलब्ध स्टॉक से चुनें और एक सरल भुगतान प्रक्रिया के साथ अपनी बुकिंग पूरी करें।",
            "Select Your Bike": "अपनी बाइक चुनें",
            "Choose from our available inventory of premium bikes.":
              "हमारे प्रीमियम बाइक्स के उपलब्ध स्टॉक से चुनें।",
            "Make Payment": "भुगतान करें",
            "Pay the booking amount via UPI":
              "यूपीआई के माध्यम से बुकिंग राशि का भुगतान करें।",
            "Complete Booking": "बुकिंग पूरी करें",
            "Submit your payment details and receive confirmation of your booking.":
              "अपना भुगतान विवरण जमा करें और अपनी बुकिंग की पुष्टि प्राप्त करें।",
            "Bike Booking Form": "बाइक बुकिंग फॉर्म",
            "Full Name*": "पूरा नाम*",
            "Email*": "ईमेल*",
            "Phone Number*": "फोन नंबर*",
            "Select Bike*": "बाइक चुनें*",
            "Payment Method*": "भुगतान विधि*",
            "Payment QR Code": "भुगतान QR कोड",
            "Scan this QR code to make payment":
              "भुगतान करने के लिए इस QR कोड को स्कैन करें",
            "Amount Paid (₹)*": "भुगतान की गई राशि (₹)*",
            "Transaction ID*": "लेन-देन आईडी*",
            "Recent Bike Bookings": "हाल की बाइक बुकिंग्स",
          },
        };

        const preferredLanguage =
          localStorage.getItem("preferredLanguage") || "en";

        if (preferredLanguage !== "en") {
          document.body.classList.add("hindi-font");
          const elements = document.querySelectorAll("[data-translate]");
          elements.forEach((element) => {
            const key = element.getAttribute("data-translate");
            if (
              translations[preferredLanguage] &&
              translations[preferredLanguage][key]
            ) {
              element.textContent = translations[preferredLanguage][key];
            }
          });
        }
      });
    </script>
    <script src="./index.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const darkModeToggle = document.getElementById("darkModeToggle");
        const mobileDarkModeToggle = document.getElementById(
          "mobileDarkModeToggle"
        );

        // Check for saved user preference or system preference
        function checkDarkModePreference() {
          const savedTheme = localStorage.getItem("theme");
          const systemPrefersDark =
            window.matchMedia &&
            window.matchMedia("(prefers-color-scheme: dark)").matches;

          if (savedTheme === "dark" || (!savedTheme && systemPrefersDark)) {
            document.body.classList.add("dark-mode");
            if (darkModeToggle) darkModeToggle.checked = true;
            if (mobileDarkModeToggle) mobileDarkModeToggle.checked = true;
          }
        }

        // Initialize dark mode
        checkDarkModePreference();

        // Desktop toggle
        if (darkModeToggle) {
          darkModeToggle.addEventListener("change", function () {
            if (this.checked) {
              document.body.classList.add("dark-mode");
              localStorage.setItem("theme", "dark");
            } else {
              document.body.classList.remove("dark-mode");
              localStorage.setItem("theme", "light");
            }
            // Sync mobile toggle
            if (mobileDarkModeToggle) {
              mobileDarkModeToggle.checked = this.checked;
            }
          });
        }

        // Mobile toggle
        if (mobileDarkModeToggle) {
          mobileDarkModeToggle.addEventListener("change", function () {
            if (this.checked) {
              document.body.classList.add("dark-mode");
              localStorage.setItem("theme", "dark");
            } else {
              document.body.classList.remove("dark-mode");
              localStorage.setItem("theme", "light");
            }
            // Sync desktop toggle
            if (darkModeToggle) {
              darkModeToggle.checked = this.checked;
            }
          });
        }

        // Watch for system theme changes
        window
          .matchMedia("(prefers-color-scheme: dark)")
          .addEventListener("change", (e) => {
            const newColorScheme = e.matches ? "dark" : "light";
            if (!localStorage.getItem("theme")) {
              // Only if user hasn't set a preference
              if (newColorScheme === "dark") {
                document.body.classList.add("dark-mode");
                if (darkModeToggle) darkModeToggle.checked = true;
                if (mobileDarkModeToggle) mobileDarkModeToggle.checked = true;
              } else {
                document.body.classList.remove("dark-mode");
                if (darkModeToggle) darkModeToggle.checked = false;
                if (mobileDarkModeToggle) mobileDarkModeToggle.checked = false;
              }
            }
          });
      });
    </script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-ETL311CBE6"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-ETL311CBE6");
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get modal elements
        const whatsappModal = document.getElementById("whatsappModal");
        const callModal = document.getElementById("callModal");

        // Get trigger buttons
        const whatsappTrigger = document.getElementById("whatsappTrigger");
        const callTrigger = document.getElementById("callTrigger");

        // Get close buttons
        const closeButtons = document.getElementsByClassName("close");

        // When user clicks WhatsApp button
        whatsappTrigger.addEventListener("click", function (e) {
          e.preventDefault();
          whatsappModal.style.display = "block";
        });

        // When user clicks Call button
        callTrigger.addEventListener("click", function (e) {
          e.preventDefault();
          callModal.style.display = "block";
        });

        // When user clicks on close button
        Array.from(closeButtons).forEach((button) => {
          button.addEventListener("click", function () {
            whatsappModal.style.display = "none";
            callModal.style.display = "none";
          });
        });

        // When user clicks outside the modal
        window.addEventListener("click", function (event) {
          if (event.target == whatsappModal) {
            whatsappModal.style.display = "none";
          }
          if (event.target == callModal) {
            callModal.style.display = "none";
          }
        });

        // Handle number selection for WhatsApp
        const whatsappOptions =
          whatsappModal.querySelectorAll(".number-option");
        whatsappOptions.forEach((option) => {
          option.addEventListener("click", function () {
            const number = this.getAttribute("data-number");
            window.open(`https://wa.me/${number}`, "_blank");
            whatsappModal.style.display = "none";
          });
        });

        // Handle number selection for Call
        const callOptions = callModal.querySelectorAll(".number-option");
        callOptions.forEach((option) => {
          option.addEventListener("click", function () {
            const number = this.getAttribute("data-number");
            window.location.href = `tel:${number}`;
            callModal.style.display = "none";
          });
        });
      });
    </script>
    <div class="floating-buttons">
      <a
        href="#"
        class="floating-btn whatsapp-btn"
        data-tooltip="Chat on WhatsApp"
        aria-label="Chat on WhatsApp"
        id="whatsappTrigger"
      >
        <i class="fa-brands fa-whatsapp fa-bounce"></i>
      </a>

      <!-- YouTube Button (unchanged) -->
      <a
        href="https://youtube.com/@bikebuilders-vo2nm?feature=shared"
        class="floating-btn youtube-btn"
        data-tooltip="Watch on YouTube"
        aria-label="Watch on YouTube"
      >
        <i class="fa-brands fa-youtube fa-beat-fade" style="color: #ff0000"></i>
      </a>

      <!-- Call Button -->
      <a
        href="#"
        class="floating-btn call-btn"
        data-tooltip="Call Us"
        aria-label="Call Us"
        id="callTrigger"
      >
        <i class="fa-solid fa-phone-volume fa-shake"></i>
      </a>
      <a
        href="https://www.google.com/maps/place/Bike+builders/@26.1159711,85.3999381,17z/data=!3m1!4b1!4m6!3m5!1s0x39ed11b964ff11bf:0x188a2d7e1473af0b!8m2!3d26.1159664!4d85.404809!16s%2Fg%2F11wftsdzy6?entry=ttu&g_ep=EgoyMDI1MDUyMS4wIKXMDSoASAFQAw%3D%3D"
        class="floating-btn call-btn"
        data-tooltip="Visit Us"
        aria-label="Visit Us"
      >
        <i class="fa-solid fa-motorcycle fa-shake"></i>
      </a>
    </div>

    <div id="whatsappModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Choose WhatsApp Number</h3>
        <button class="number-option" data-number="918210283582">
          +91 82102 83582
        </button>
        <button class="number-option" data-number="919876543210">
          +91 98358 44897
        </button>
      </div>
    </div>

    <div id="callModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Choose Number to Call</h3>
        <button class="number-option" data-number="918210283582">
          +91 82102 83582
        </button>
        <button class="number-option" data-number="919876543210">
          +91 98358 44897
        </button>
      </div>
    </div>
  </body>
</html>
