<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <title>Book Your Bike | Bike Builders</title>
    <link rel="stylesheet" href="./globals.css" />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./book.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="hero-section book-hero">
      <div class="overlay">
        <div class="rectangle"></div>
        <div class="gradient"></div>
      </div>

      <nav class="navbar">
        <a href="index.html" class="logo-link"
          ><div class="logo">
            <img
              src="./assets/logo2.svg"
              class="logo-img"
              alt="Bike Builders Logo"
              itemprop="logo"
            /></div
        ></a>
        <ul class="nav-links">
          <li><a href="index.html" data-translate="Home">Home</a></li>
          <li>
            <a href="inventory.html" data-translate="Buy Bike">Buy Bike</a>
          </li>
          <li>
            <a href="sell.html" data-translate="Sell Your Bike"
              >Sell Your Bike</a
            >
          </li>
          <li>
            <a
              href="about.html"
              aria-label="About Bike Builders"
              data-translate="About Us"
              >About Us</a
            >
          </li>
          <li>
            <a
              href="book.html"
              aria-label="Book Bike"
              data-translate="Book Bike"
              class="active"
              >Book Bike</a
            >
          </li>
          <li><a href="./updates.html" data-translate="Updates">Updates</a></li>
          <li><a href="contact.html" data-translate="Contact">Contact</a></li>
        </ul>
        <div class="login-btn">
          <a href="/getquote.html">
            <button data-translate="Get the Quote">Get the Quote</button>
          </a>
        </div>
      </nav>
      <section class="book-section">
        <div class="book-content">
          <h2 data-translate="Book Your Dream Bike">Book Your Dream Bike</h2>
          <p
            data-translate="Secure your bike with a booking payment. Select from our available inventory and complete your booking with a simple payment process."
          >
            Secure your bike with a booking payment. Select from our available
            inventory and complete your booking with a simple payment process.
          </p>

          <div class="book-steps">
            <div class="book-step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4 data-translate="Select Your Bike">Select Your Bike</h4>
                <p
                  data-translate="Choose from our available inventory of premium bikes."
                >
                  Choose from our available inventory of premium bikes.
                </p>
              </div>
            </div>
            <div class="book-step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4 data-translate="Make Payment">Make Payment</h4>
                <p data-translate="Pay the booking amount via UPI">
                  Pay the booking amount via UPI
                </p>
              </div>
            </div>
            <div class="book-step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4 data-translate="Complete Booking">Complete Booking</h4>
                <p
                  data-translate="Submit your payment details and receive confirmation of your booking."
                >
                  Submit your payment details and receive confirmation of your
                  booking.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="book-form-container" id="book-form">
          <form id="book-bike-form" class="book-form">
            <h3 data-translate="Bike Booking Form">Bike Booking Form</h3>

            <div class="form-group">
              <label for="book-name" data-translate="Full Name*"
                >Full Name*</label
              >
              <input
                type="text"
                id="book-name"
                name="name"
                placeholder="Your name"
                required
              />
            </div>

            <div class="form-group">
              <label for="book-email" data-translate="Email*">Email*</label>
              <input
                type="email"
                id="book-email"
                name="email"
                placeholder="Your email"
                required
              />
            </div>

            <div class="form-group">
              <label for="book-phone" data-translate="Phone Number*"
                >Phone Number*</label
              >
              <input
                type="tel"
                id="book-phone"
                name="phone"
                placeholder="Your phone number"
                required
              />
            </div>

            <div class="form-group">
              <label for="book-bike" data-translate="Select Bike*"
                >Select Bike*</label
              >
              <select id="book-bike" name="bikeId" required>
                <option value="">Loading bikes...</option>
              </select>
            </div>

            <div class="form-group">
              <label data-translate="Payment Method*">Payment Method*</label>
              <div class="payment-methods">
                <label class="payment-method">
                  <input
                    type="radio"
                    name="paymentMethod"
                    value="UPI"
                    checked
                  />
                  <div class="payment-option">
                    <img src="./assets/upi-icon.png" alt="UPI" />
                    <span>UPI</span>
                  </div>
                </label>
              </div>
            </div>

            <div class="form-group">
              <label data-translate="Payment QR Code">Payment QR Code</label>
              <div class="qr-code-container">
                <img src="./assets/payment-qr.png" alt="Payment QR Code" />
                <p data-translate="Scan this QR code to make payment">
                  Scan this QR code to make payment
                </p>
              </div>
            </div>

            <div class="form-group">
              <label for="book-amount" data-translate="Amount Paid (₹)*"
                >Amount Paid (₹)*</label
              >
              <input
                type="number"
                id="book-amount"
                name="amount"
                placeholder="Enter amount paid"
                required
              />
            </div>

            <div class="form-group">
              <label for="book-transaction" data-translate="Transaction ID*"
                >Transaction ID*</label
              >
              <input
                type="text"
                id="book-transaction"
                name="transactionId"
                placeholder="Enter transaction ID"
                required
              />
            </div>

            <div class="form-group checkbox-group">
              <input
                type="checkbox"
                id="agree-terms-book"
                name="agree-terms"
                required
              />
              <label
                for="agree-terms-book"
                data-translate="I agree to the terms and conditions and privacy policy*"
                >I agree to the terms and conditions and privacy policy*</label
              >
            </div>

            <button
              type="submit"
              class="submit-btn"
              data-translate="Complete Booking"
            >
              Complete Booking
            </button>
          </form>
        </div>
      </section>
    </div>

    
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <div class="logo">
            <img
              src="./assets/logo2.svg"
              style="width: 50px"
              alt="Bike Builders Logo"
            />
          </div>
          <p data-translate="Bringing the future of bike riding to you today.">
            Bringing the future of bike riding to you today.
          </p>
          <div class="social-icons">
            <a href="https://www.facebook.com/share/1Ao18FYX8e/"
              ><i class="fa-brands fa-facebook-f" style="color: #0400ff"></i
            ></a>
            <a
              href="https://www.instagram.com/bikebuilders41?igsh=ZDk5M3NxdmI1Ymhp"
              aria-label="Visit our Instagram profile"
              ><img
                src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
                style="width: 20px"
            /></a>
            <a href="https://wa.me/918210283582"
              ><i class="fa-brands fa-whatsapp" style="color: #00a841"></i
            ></a>
          </div>
        </div>
        <div class="footer-section">
          <h3 data-translate="Quick Links">Quick Links</h3>
          <ul>
            <li><a href="index.html" data-translate="Home">Home</a></li>
            <li>
              <a href="inventory.html" data-translate="Buy Bike">Buy Bike</a>
            </li>
            <li>
              <a href="sell.html" data-translate="Sell Your Bike"
                >Sell Your Bike</a
              >
            </li>
            <li>
              <a
                href="about.html"
                aria-label="About Bike Builders"
                data-translate="About Us"
                >About Us</a
              >
            </li>
            <li>
              <a
                href="book.html"
                aria-label="Book Bike"
                data-translate="Book Bike"
                >Book Bike</a
              >
            </li>
            <li><a href="./updates.html" data-translate="Updates">Updates</a></li>
            <li><a href="contact.html" data-translate="Contact">Contact</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3 data-translate="Contact Us">Contact Us</h3>
          <p
            data-translate="Rambag Chowk, Rambag Road Kabristaan k bagal me, Gaushala Chowk Mandir , Muzaffarpur, Bihar 842002"
          >
            <i class="fas fa-map-marker-alt"></i> Rambag Chowk, Rambag Road
            Kabristaan k bagal me, Gaushala Chowk Mandir , Muzaffarpur, Bihar
            842002
          </p>
          <span itemprop="telephone"
            >+91 8210283582 / 7564987167 / 9825944897</span
          >
        </div>
      </div>
      <div class="footer-bottom">
        <p data-translate="&copy; 2023 Bike Builders. All rights reserved.">
          &copy; 2023 Bike Builders. All rights reserved.
        </p>
        <a
          href="www.pixelatenest.com"
          style="color: #a9a9a9"
          data-translate="Designed By Pixelate Nest"
          >Designed By Pixelate Nest</a
        >
      </div>
    </footer>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Load available bikes
        fetch("https://bike-builders.onrender.com/api/available-bikes")
          .then((response) => response.json())
          .then((bikes) => {
            const select = document.getElementById("book-bike");
            select.innerHTML =
              '<option value="">Select Bike</option>' +
              bikes
                .map(
                  (bike) =>
                    `<option value="${bike._id}">${bike.brand} ${bike.model} (${
                      bike.modelYear
                    }) - ₹${bike.price.toLocaleString()}</option>`
                )
                .join("");
          })
          .catch((error) => {
            console.error("Error loading bikes:", error);
            document.getElementById("book-bike").innerHTML =
              '<option value="">Error loading bikes</option>';
          });

        // Form submission
        const bookForm = document.getElementById("book-bike-form");
        bookForm.addEventListener("submit", async function (e) {
          e.preventDefault();

          // Show loading state
          const submitBtn = this.querySelector('button[type="submit"]');
          const originalBtnText = submitBtn.textContent;
          submitBtn.disabled = true;
          submitBtn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Processing...';

          try {
            const formData = new FormData(this);
            const jsonData = {};
            formData.forEach((value, key) => {
              jsonData[key] = value;
            });

            const response = await fetch("https://bike-builders.onrender.com/api/book-bike", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(jsonData),
            });

            const result = await response.json();

            if (response.ok) {
              alert(
                "Booking confirmed! We will contact you shortly to complete the process."
              );
              this.reset();
            } else {
              alert(
                result.error || "Failed to process booking. Please try again."
              );
            }
          } catch (err) {
            console.error("Error submitting form:", err);
            alert("An error occurred. Please try again.");
          } finally {
            submitBtn.disabled = false;
            submitBtn.textContent = originalBtnText;
          }
        });

        // Testimonial slider
        let currentTestimonial = 0;
        const testimonials = document.querySelectorAll(".testimonial");
        const dots = document.querySelectorAll(".testimonial-dot");

        function showTestimonial(index) {
          testimonials.forEach((testimonial, i) => {
            testimonial.style.display = i === index ? "block" : "none";
          });

          dots.forEach((dot, i) => {
            dot.classList.toggle("active", i === index);
          });

          currentTestimonial = index;
        }

        dots.forEach((dot, i) => {
          dot.addEventListener("click", () => showTestimonial(i));
        });

        // Auto-rotate testimonials
        setInterval(() => {
          currentTestimonial = (currentTestimonial + 1) % testimonials.length;
          showTestimonial(currentTestimonial);
        }, 5000);

        // Initialize
        showTestimonial(0);
      });

      // Translation script (same as other pages)
      document.addEventListener("DOMContentLoaded", function () {
        const translations = {
          en: {
            Home: "Home",
            "Buy Bike": "Buy Bike",
            "Sell Your Bike": "Sell Your Bike",
            "About Us": "About Us",
            Updates: "Updates",
            "Book Bike": "Book Bike",
            Contact: "Contact",
            "Get the Quote": "Get the Quote",
            "Book Your Dream Bike": "Book Your Dream Bike",
            "Secure your bike with a booking payment. Select from our available inventory and complete your booking with a simple payment process.":
              "Secure your bike with a booking payment. Select from our available inventory and complete your booking with a simple payment process.",
            "Select Your Bike": "Select Your Bike",
            "Choose from our available inventory of premium bikes.":
              "Choose from our available inventory of premium bikes.",
            "Make Payment": "Make Payment",
            "Pay the booking amount via UPI": "Pay the booking amount via UPI",
            "Complete Booking": "Complete Booking",
            "Submit your payment details and receive confirmation of your booking.":
              "Submit your payment details and receive confirmation of your booking.",
            "Bike Booking Form": "Bike Booking Form",
            "Full Name*": "Full Name*",
            "Email*": "Email*",
            "Phone Number*": "Phone Number*",
            "Select Bike*": "Select Bike*",
            "Payment Method*": "Payment Method*",
            "Payment QR Code": "Payment QR Code",
            "Scan this QR code to make payment":
              "Scan this QR code to make payment",
            "Amount Paid (₹)*": "Amount Paid (₹)*",
            "Transaction ID*": "Transaction ID*",
            "Recent Bike Bookings": "Recent Bike Bookings",
          },
          hi: {
            Home: "होम",
            "Buy Bike": "बाइक खरीदें",
            "Sell Your Bike": "अपनी बाइक बेचें",
            "About Us": "हमारे बारे में",
            Updates: "अपडेट्स",
            Contact: "संपर्क करें",
            "Book Bike": "बाइक बुक करें",
            "Get the Quote": "कीमत पता करें",
            "Book Your Dream Bike": "अपनी ड्रीम बाइक बुक करें",
            "Secure your bike with a booking payment. Select from our available inventory and complete your booking with a simple payment process.":
              "बुकिंग पेमेंट के साथ अपनी बाइक सुरक्षित करें। हमारे उपलब्ध स्टॉक से चुनें और एक सरल भुगतान प्रक्रिया के साथ अपनी बुकिंग पूरी करें।",
            "Select Your Bike": "अपनी बाइक चुनें",
            "Choose from our available inventory of premium bikes.":
              "हमारे प्रीमियम बाइक्स के उपलब्ध स्टॉक से चुनें।",
            "Make Payment": "भुगतान करें",
            "Pay the booking amount via UPI":
              "यूपीआई के माध्यम से बुकिंग राशि का भुगतान करें।",
            "Complete Booking": "बुकिंग पूरी करें",
            "Submit your payment details and receive confirmation of your booking.":
              "अपना भुगतान विवरण जमा करें और अपनी बुकिंग की पुष्टि प्राप्त करें।",
            "Bike Booking Form": "बाइक बुकिंग फॉर्म",
            "Full Name*": "पूरा नाम*",
            "Email*": "ईमेल*",
            "Phone Number*": "फोन नंबर*",
            "Select Bike*": "बाइक चुनें*",
            "Payment Method*": "भुगतान विधि*",
            "Payment QR Code": "भुगतान QR कोड",
            "Scan this QR code to make payment":
              "भुगतान करने के लिए इस QR कोड को स्कैन करें",
            "Amount Paid (₹)*": "भुगतान की गई राशि (₹)*",
            "Transaction ID*": "लेन-देन आईडी*",
            "Recent Bike Bookings": "हाल की बाइक बुकिंग्स",
          },
        };

        const preferredLanguage =
          localStorage.getItem("preferredLanguage") || "en";

        if (preferredLanguage !== "en") {
          document.body.classList.add("hindi-font");
          const elements = document.querySelectorAll("[data-translate]");
          elements.forEach((element) => {
            const key = element.getAttribute("data-translate");
            if (
              translations[preferredLanguage] &&
              translations[preferredLanguage][key]
            ) {
              element.textContent = translations[preferredLanguage][key];
            }
          });
        }
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const toggleBtn = document.createElement("button");
        toggleBtn.className = "mobile-menu-toggle";
        toggleBtn.innerHTML = '<i class="fas fa-bars"></i>';

        const navbar = document.querySelector(".navbar");
        navbar.appendChild(toggleBtn);

        const mobileMenu = document.createElement("div");
        mobileMenu.className = "mobile-menu";
        mobileMenu.innerHTML = `
          <button class="close-btn"><i class="fas fa-times"></i></button>
          <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="inventory.html">Buy Bike</a></li>
            <li><a href="sell.html">Sell Your Bike</a></li>
            <li><a href="getquote.html">Get a Quote</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="./updates.html" data-translate="Updates">Updates</a></li>
            <li><a href="contact.html" data-translate="Contact">Contact</a></li>
            <li><a href="book.html" class="active" data-translate="Book Bike">Book Bike</a></li>
          </ul>
          <div class="login-btn">
            <button>Get the Quote</button>
          </div>
        `;

        document.body.appendChild(mobileMenu);

        toggleBtn.addEventListener("click", function () {
          mobileMenu.classList.add("active");
        });

        mobileMenu
          .querySelector(".close-btn")
          .addEventListener("click", function () {
            mobileMenu.classList.remove("active");
          });
      });
    </script>
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-ETL311CBE6"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-ETL311CBE6");
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get modal elements
        const whatsappModal = document.getElementById("whatsappModal");
        const callModal = document.getElementById("callModal");

        // Get trigger buttons
        const whatsappTrigger = document.getElementById("whatsappTrigger");
        const callTrigger = document.getElementById("callTrigger");

        // Get close buttons
        const closeButtons = document.getElementsByClassName("close");

        // When user clicks WhatsApp button
        whatsappTrigger.addEventListener("click", function (e) {
          e.preventDefault();
          whatsappModal.style.display = "block";
        });

        // When user clicks Call button
        callTrigger.addEventListener("click", function (e) {
          e.preventDefault();
          callModal.style.display = "block";
        });

        // When user clicks on close button
        Array.from(closeButtons).forEach((button) => {
          button.addEventListener("click", function () {
            whatsappModal.style.display = "none";
            callModal.style.display = "none";
          });
        });

        // When user clicks outside the modal
        window.addEventListener("click", function (event) {
          if (event.target == whatsappModal) {
            whatsappModal.style.display = "none";
          }
          if (event.target == callModal) {
            callModal.style.display = "none";
          }
        });

        // Handle number selection for WhatsApp
        const whatsappOptions =
          whatsappModal.querySelectorAll(".number-option");
        whatsappOptions.forEach((option) => {
          option.addEventListener("click", function () {
            const number = this.getAttribute("data-number");
            window.open(`https://wa.me/${number}`, "_blank");
            whatsappModal.style.display = "none";
          });
        });

        // Handle number selection for Call
        const callOptions = callModal.querySelectorAll(".number-option");
        callOptions.forEach((option) => {
          option.addEventListener("click", function () {
            const number = this.getAttribute("data-number");
            window.location.href = `tel:${number}`;
            callModal.style.display = "none";
          });
        });
      });
    </script>
    <div class="floating-buttons">
      
      <a
        href="#"
        class="floating-btn whatsapp-btn"
        data-tooltip="Chat on WhatsApp"
        aria-label="Chat on WhatsApp"
        id="whatsappTrigger"
      >
        <i class="fa-brands fa-whatsapp fa-bounce"></i>
      </a>

      <!-- YouTube Button (unchanged) -->
      <a
        href="https://youtube.com/@bikebuilders-vo2nm?feature=shared"
        class="floating-btn youtube-btn"
        data-tooltip="Watch on YouTube"
        aria-label="Watch on YouTube"
      >
        <i class="fa-brands fa-youtube fa-beat-fade" style="color: #ff0000"></i>
      </a>

      <!-- Call Button -->
      <a
        href="#"
        class="floating-btn call-btn"
        data-tooltip="Call Us"
        aria-label="Call Us"
        id="callTrigger"
      >
        <i class="fa-solid fa-phone-volume fa-shake"></i>
      </a>
    </div>

    <!-- WhatsApp Modal -->
    <div id="whatsappModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Choose WhatsApp Number</h3>
        <button class="number-option" data-number="918210283582">
          +91 82102 83582
        </button>
        <button class="number-option" data-number="919876543210">
          +91 98358 44897
        </button>
      </div>
    </div>

    <!-- Call Modal -->
    <div id="callModal" class="modal">
      <div class="modal-content">
        <span class="close">&times;</span>
        <h3>Choose Number to Call</h3>
        <button class="number-option" data-number="918210283582">
          +91 82102 83582
        </button>
        <button class="number-option" data-number="919876543210">
          +91 98358 44897
        </button>
      </div>
    </div>
  </body>
</html>
